

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>xAH_run.py &mdash; xAODAnaHelpers 9618850 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/collapsible-lists/js/CollapsibleLists.compressed.js"></script>
        <script src="_static/collapsible-lists/js/apply-collapsible-lists.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/collapsible-lists/css/tree_view.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Algorithms" href="Algorithms.html" />
    <link rel="prev" title="Installing" href="Installing.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> xAODAnaHelpers
          

          
          </a>

          
            
            
              <div class="version">
                9618850
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="Installing.html">Installing</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">xAH_run.py</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#getting-started">Getting Started</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#a-simple-plotting-example">A simple plotting example</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#what-algorithms-to-run">What algorithms to run</a></li>
<li class="toctree-l4"><a class="reference internal" href="#running-the-script">Running the script</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#configuring-samples">Configuring Samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuration-details">Configuration Details</a></li>
<li class="toctree-l2"><a class="reference internal" href="#api-reference">API Reference</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Algorithms.html">Algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="Development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="Community.html">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="FAQs.html">xAH FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="API.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/library_root.html">Doxygen API</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">xAODAnaHelpers</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>xAH_run.py</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/UsingUs.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="xah-run-py">
<h1>xAH_run.py<a class="headerlink" href="#xah-run-py" title="Permalink to this headline">¶</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">xAH_run.py</span></code> is the xAODAnaHelpers macro written fully in python. The
goal is to make it easier for a user to spin up an analysis without
(potentially) writing any C++ code at all!</p>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>An analysis job is defined by a few key things:
- the files to run over
- where to run the code
- what algorithms to run</p>
<p>and a few other minor features such as submission directory or how many events to run. Primarily, these three things listed above are all you need to get started. <code class="docutils literal notranslate"><span class="pre">xAH_run.py</span></code> manages all of these for you.</p>
<p>A configuration file, written in <a class="reference external" href="http://www.json.org/">json</a> or <a class="reference external" href="https://www.python.org/">python</a>, is used to specify what algorithms to run, and in what order. You pass in a list of files you want to run over to the script itself, as well as where to run the code. It will take care of the rest for you.</p>
</div>
<div class="section" id="getting-started">
<h2>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>
<p>To get started, we assume you are little bit familiar with xAODAnaHelpers and AnalysisBase in general. Recall that when you compile a bunch of packages, you generate a namespace under <code class="docutils literal notranslate"><span class="pre">ROOT</span></code> that all your algorithms are loaded into so that one could create an algorithm by something like <code class="docutils literal notranslate"><span class="pre">ROOT.AlgorithmName()</span></code> and then start configuring it. In fact, this is how one normally does it within python. Namespaces are automatically linked up by something like <code class="docutils literal notranslate"><span class="pre">ROOT.Namespace.AlgorithmName()</span></code> in case you wrapped the entire algorithm in a namespace.</p>
<div class="section" id="a-simple-plotting-example">
<h3>A simple plotting example<a class="headerlink" href="#a-simple-plotting-example" title="Permalink to this headline">¶</a></h3>
<p>To get started, let’s just ask a simple question: “How can I make plots of Anti-Kt, R=0.4, LC-calibrated jets?” Let’s assume <code class="docutils literal notranslate"><span class="pre">xAODAnaHelpers</span></code> has already been checked out and everything is compiled. We only need to know the three key things.</p>
<div class="section" id="what-algorithms-to-run">
<h4>What algorithms to run<a class="headerlink" href="#what-algorithms-to-run" title="Permalink to this headline">¶</a></h4>
<p>We will run 2 algorithms. First is <a class="reference internal" href="BasicEventSelection.html#_CPPv419BasicEventSelection" title="BasicEventSelection"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BasicEventSelection</span></code></a> to filter/clean events. The second is <a class="reference internal" href="JetHistsAlgo.html#_CPPv412JetHistsAlgo" title="JetHistsAlgo"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">JetHistsAlgo</span></code></a> which will allow us to plot the jets we want. So start with the template JSON file:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;class&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;BasicEventSelection&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;configs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;class&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;JetHistsAlgo&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;configs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>This gets us started. We make a list of algorithms that we want to run, this list is considered <em>sorted</em>. Each list contains a dictionary object, one which defines the <code class="docutils literal notranslate"><span class="pre">class</span></code> to run and another which defines a dictionary of configurations to pass into that algorithm. An equivalent script in python looks like</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">xAODAnaHelpers</span> <span class="kn">import</span> <span class="n">Config</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">Config</span><span class="p">()</span>

<span class="n">c</span><span class="o">.</span><span class="n">algorithm</span><span class="p">(</span><span class="s2">&quot;BasicEventSelection&quot;</span><span class="p">,</span> <span class="p">{})</span>
<span class="n">c</span><span class="o">.</span><span class="n">algorithm</span><span class="p">(</span><span class="s2">&quot;JetHistsAlgo&quot;</span><span class="p">,</span> <span class="p">{})</span>
</pre></div>
</div>
<p>Next, we should probably add some obvious configurations that work for us. I look up the header files of each and decide to flesh it out as below:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;class&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;BasicEventSelection&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;configs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;m_truthLevelOnly&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;m_applyGRLCut&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;m_GRLxml&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;$ROOTCOREBIN/data/xAODAnaHelpers/data12_8TeV.periodAllYear_DetStatus-v61-pro14-02_DQDefects-00-01-00_PHYS_StandardGRL_All_Good.xml&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;m_doPUreweighting&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;m_vertexContainerName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;PrimaryVertices&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;m_PVNTrack&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;m_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;myBaseEventSel&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;class&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;JetHistsAlgo&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;configs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;m_inContainerName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;AntiKt4EMTopoJets&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;m_detailStr&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;kinematic&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;m_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;NoPreSel&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>and I save this into <code class="docutils literal notranslate"><span class="pre">xah_run_example.json</span></code>. If you want more variables in your plots, add other possibilities in the detailStr field, separated by a space. Equivalently in python</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">xAODAnaHelpers</span> <span class="kn">import</span> <span class="n">Config</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">Config</span><span class="p">()</span>

<span class="n">c</span><span class="o">.</span><span class="n">algorithm</span><span class="p">(</span><span class="s2">&quot;BasicEventSelection&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;m_truthLevelOnly&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                                    <span class="s2">&quot;m_applyGRLCut&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                                    <span class="s2">&quot;m_GRLxml&quot;</span><span class="p">:</span> <span class="s2">&quot;$ROOTCOREBIN/data/xAODAnaHelpers/data12_8TeV.periodAllYear_DetStatus-v61-pro14-02_DQDefects-00-01-00_PHYS_StandardGRL_All_Good.xml&quot;</span><span class="p">,</span>
                                    <span class="s2">&quot;m_doPUreweighting&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                                    <span class="s2">&quot;m_vertexContainerName&quot;</span><span class="p">:</span> <span class="s2">&quot;PrimaryVertices&quot;</span><span class="p">,</span>
                                    <span class="s2">&quot;m_PVNTrack&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                                    <span class="s2">&quot;m_name&quot;</span><span class="p">:</span> <span class="s2">&quot;myBaseEventSel&quot;</span><span class="p">})</span>
<span class="n">c</span><span class="o">.</span><span class="n">algorithm</span><span class="p">(</span><span class="s2">&quot;JetHistsAlgo&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;m_inContainerName&quot;</span><span class="p">:</span> <span class="s2">&quot;AntiKt4EMTopoJets&quot;</span><span class="p">,</span>
                             <span class="s2">&quot;m_detailStr&quot;</span><span class="p">:</span> <span class="s2">&quot;kinematic&quot;</span><span class="p">,</span>
                             <span class="s2">&quot;m_name&quot;</span><span class="p">:</span> <span class="s2">&quot;NoPreSel&quot;</span><span class="p">})</span>
</pre></div>
</div>
<p>The similarity is on purpose, to make it incredibly easy to switch back and forth between the two formats.</p>
</div>
<div class="section" id="running-the-script">
<h4>Running the script<a class="headerlink" href="#running-the-script" title="Permalink to this headline">¶</a></h4>
<p>I pretty much have everything I need to work with. So, I run the following command</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>xAH_run.py<span class="w"> </span>--files<span class="w"> </span>file1.root<span class="w"> </span>file2.root<span class="w"> </span>--config<span class="w"> </span>xah_run_example.json<span class="w"> </span>direct
</pre></div>
</div>
<p>which will run over two ROOT files locally (<code class="docutils literal notranslate"><span class="pre">direct</span></code>), using the configuration we made. Running with the python form of the configuration is just as easy</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>xAH_run.py<span class="w"> </span>--files<span class="w"> </span>file1.root<span class="w"> </span>file2.root<span class="w"> </span>--config<span class="w"> </span>xah_run_example.py<span class="w"> </span>direct
</pre></div>
</div>
<p>How to pass command line options straight to the python config file? Let’s say you wish to set a variable called <code class="docutils literal notranslate"><span class="pre">var</span></code> in your config. Then, you would have to have something like this in your config:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">shlex</span>
<span class="kn">import</span> <span class="nn">argparse</span>

<span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Test for extra options&#39;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-var&#39;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s1">&#39;store&#39;</span><span class="p">)</span>

<span class="c1"># note &quot;args&quot; is already a variable holding the arguments passed into xAH_run.py</span>
<span class="n">inner_args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">(</span><span class="n">shlex</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">extra_options</span><span class="p">))</span>
</pre></div>
</div>
<p>Then, you can pass that argument with the <code class="docutils literal notranslate"><span class="pre">--extraOptions</span></code> flag of <code class="docutils literal notranslate"><span class="pre">xAH_run.py</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>xAH_run.py<span class="w"> </span>--files<span class="w"> </span>file.root<span class="w"> </span>--config<span class="w"> </span>YOURCONFIGNAME.py<span class="w"> </span>--extraOptions<span class="o">=</span><span class="s2">&quot;-var 2&quot;</span><span class="w"> </span>direct
</pre></div>
</div>
<p>We’re all done! That was easy :beers: .</p>
</div>
</div>
</div>
<div class="section" id="configuring-samples">
<h2>Configuring Samples<a class="headerlink" href="#configuring-samples" title="Permalink to this headline">¶</a></h2>
<p>Sample configuration can be done with a python script like so</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">xAODAnaHelpers</span> <span class="kn">import</span> <span class="n">Config</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">Config</span><span class="p">()</span>

<span class="n">c</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">410000</span><span class="p">,</span> <span class="n">foo</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">hello</span><span class="o">=</span><span class="s1">&#39;world&#39;</span><span class="p">)</span>
<span class="n">c</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="s2">&quot;p9495&quot;</span><span class="p">,</span> <span class="n">foo</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">hello</span><span class="o">=</span><span class="s1">&#39;world&#39;</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">d</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>where the pattern specified in <code class="docutils literal notranslate"><span class="pre">Config::sample</span></code> will be searched for inside the name of the dataset (not the name of the file!). Specifically, we just do something like <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">pattern</span> <span class="pre">in</span> <span class="pre">sample.name()</span></code> in order to flag that sample. Given this, you can make this pattern generic enough to apply a configuration to a specific p-tag, or to a specific dataset ID (DSID) as well. The above will produce the following output when running</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>WARNING<span class="o">]</span><span class="w">  </span>No<span class="w"> </span>matching<span class="w"> </span>sample<span class="w"> </span>found<span class="w"> </span><span class="k">for</span><span class="w"> </span>pattern<span class="w"> </span><span class="m">410000</span>
<span class="o">[</span>INFO<span class="w">   </span><span class="o">]</span><span class="w">  </span>Setting<span class="w"> </span>sample<span class="w"> </span>metadata<span class="w"> </span><span class="k">for</span><span class="w"> </span>example.sample.p9495.root
<span class="o">[</span>INFO<span class="w">   </span><span class="o">]</span><span class="w">       </span>-<span class="w"> </span>sample.meta<span class="o">()</span>.setDouble<span class="o">(</span>c,<span class="w"> </span><span class="m">2</span>.0<span class="o">)</span>
<span class="o">[</span>INFO<span class="w">   </span><span class="o">]</span><span class="w">       </span>-<span class="w"> </span>sample.meta<span class="o">()</span>.setString<span class="o">(</span>foo,<span class="w"> </span>bar<span class="o">)</span>
<span class="o">[</span>INFO<span class="w">   </span><span class="o">]</span><span class="w">       </span>-<span class="w"> </span>sample.meta<span class="o">()</span>.setInteger<span class="o">(</span>b,<span class="w"> </span><span class="m">1</span><span class="o">)</span>
<span class="o">[</span>INFO<span class="w">   </span><span class="o">]</span><span class="w">       </span>-<span class="w"> </span>sample.meta<span class="o">()</span>.setString<span class="o">(</span>hello,<span class="w"> </span>world<span class="o">)</span>
<span class="o">[</span>INFO<span class="w">   </span><span class="o">]</span><span class="w">       </span>-<span class="w"> </span>sample.meta<span class="o">()</span>.setBool<span class="o">(</span>d,<span class="w"> </span>True<span class="o">)</span>
</pre></div>
</div>
<p>which should make it easy for you to understand what options are being set and for which sample.</p>
</div>
<div class="section" id="configuration-details">
<h2>Configuration Details<a class="headerlink" href="#configuration-details" title="Permalink to this headline">¶</a></h2>
<p>As mentioned previous, there are multiple facets to <code class="docutils literal notranslate"><span class="pre">xAH_run.py</span></code>. The below details the configurations that are possible for the script itself, not for the algorithms you use. For details on what can be configured, look up the header files of the algorithms themselves.</p>
<p>For everything listed below, the script contains all this information and is self-documenting. Simply type</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>xAH_run.py<span class="w"> </span>-h
</pre></div>
</div>
<p>to see all the help information.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">{driver}</span></code> option tells the script where to run the code. There are lots of supported drivers and more can be added if you request it. For more information, you can type <code class="docutils literal notranslate"><span class="pre">xAH_run.py</span> <span class="pre">-h</span> <span class="pre">drivers</span></code> of available drivers.</p>
</div>
</div>
<div class="section" id="api-reference">
<span id="xahrunapi"></span><h2>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are using a CMake-based release, or you have <code class="docutils literal notranslate"><span class="pre">argcomplete</span></code> in your python environment, you can enable automatic completion of the options. For example, running something like this:</p>
<p>eval “$(register-python-argcomplete xAH_run.py)”</p>
</div>
<p>All of the following properties can be set in a user-specific dotfile located at <code class="docutils literal notranslate"><span class="pre">${HOME}/.xah</span></code>. It is an <a class="reference external" href="https://en.wikipedia.org/wiki/INI_file">INI file</a>, with the <cite>general</cite> section used for the generic options and other sections named after sub-commands. The keys in each section are the options without the preceeding dashes.</p>
<p>The following example configures the Slurm driver for NERCS’ Cori and records usage statistics:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span>[general]
stats=1

[slurm]
optBatchSharedFileSystem=1
optBatchWait=1
optSlurmRunTime=5:00:00
optSlurmExtraConfigLines=#SBATCH --qos=shared --tasks-per-node=1 --constraint=haswell --image=centos:centos7 --export=NONE
optSlurmWrapperExec=export LD_LIBRARY_PATH=${LD_LIBRARY_PATH}:/global/project/projectdirs/atlas/scripts/extra_libs_180822; hostname; shifter --module=cvmfs /bin/
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Algorithms.html" class="btn btn-neutral float-right" title="Algorithms" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Installing.html" class="btn btn-neutral float-left" title="Installing" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015-2017, ATLAS Collaboration

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>